$ bun run scripts/health-check.ts
[33m
ğŸ¥ Healthcare System Health Check[0m
[33m================================
[0m
[33m
ğŸ” Checking PostgreSQL...[0m
[32mâœ… PostgreSQL is healthy[0m
[33m
ğŸ” Checking Redis...[0m
[31mâŒ Redis is unhealthy[0m
[33m
ğŸ” Checking WebSocket Server...[0m
[31mâŒ WebSocket Server is not running[0m
[33m
ğŸ” Checking Email Service...[0m
[33mâš ï¸  Email Service is not running (optional)[0m
[33m
ğŸ” Checking TRPC API...[0m
[31mâŒ TRPC API is unhealthy[0m
[33m
ğŸ” Checking Disk Space...[0m
[32mâœ… Disk usage is normal: 4%[0m
[33m
ğŸ” Checking Memory Usage...[0m
[33mâš ï¸  Could not check memory usage[0m
[33m
ğŸ“Š Health Check Summary[0m
[33m======================
[0m
[32mâœ… Healthy: 2[0m
[31mâŒ Unhealthy: 3[0m
[33mâš ï¸  Warnings: 2[0m
[33m
ğŸ“‹ Detailed Results:[0m
[32m
âœ… PostgreSQL[0m
   Status: healthy
   Message: Database connection successful
[31m
âŒ Redis[0m
   Status: unhealthy
   Message: Redis connection failed
   Details: {
  "code": 127,
  "killed": false,
  "signal": null,
  "cmd": "redis-cli ping",
  "stdout": "",
  "stderr": "/bin/sh: redis-cli: command not found\n"
}
[31m
âŒ WebSocket Server[0m
   Status: unhealthy
   Message: WebSocket server is not running
   Details: {
  "code": "ConnectionRefused",
  "path": "http://localhost:3002/health",
  "errno": 0
}
[33m
âš ï¸ Email Service[0m
   Status: warning
   Message: Email service is not running (optional)
   Details: {
  "code": "ConnectionRefused",
  "path": "http://localhost:3005/health",
  "errno": 0
}
[31m
âŒ TRPC API[0m
   Status: unhealthy
   Message: API is not responding
   Details: {
  "code": "ConnectionRefused",
  "path": "http://localhost:3000/api/health",
  "errno": 0
}
[32m
âœ… Disk Space[0m
   Status: healthy
   Message: Disk usage is normal: 4%
   Details: {
  "usage": 4
}
[33m
âš ï¸ Memory[0m
   Status: warning
   Message: Could not check memory usage
   Details: {
  "code": 127,
  "killed": false,
  "signal": null,
  "cmd": "free -m",
  "stdout": "",
  "stderr": "/bin/sh: free: command not found\n"
}
[31m
âŒ System health check failed![0m
error: script "health:check" exited with code 1
